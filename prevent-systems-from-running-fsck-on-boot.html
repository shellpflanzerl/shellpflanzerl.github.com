<!DOCTYPE html>
<html lang="en">
<head>
          <title>shellpflanzerl</title>
        <meta charset="utf-8" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="shellpflanzerl Full Atom Feed" />
        <link href="/feeds/tips.atom.xml" type="application/atom+xml" rel="alternate" title="shellpflanzerl Categories Atom Feed" />



    <meta name="tags" contents="Linux" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">shellpflanzerl <strong></strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/prevent-systems-from-running-fsck-on-boot.html" rel="bookmark"
         title="Permalink to Prevent systems from running fsck on boot">Prevent systems from running fsck on boot</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2014-12-08T11:00:00+01:00">
      Mon 08 December 2014
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="/author/martin-zehetmayer.html">Martin Zehetmayer</a>
    </address>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>In some situation the fsck of a filesystem after a system reboot could be disastrous -
for example if you are just migrating a productive server with a very large filesystem on it.</p>
<p>How can this be achieved?</p>
<ol>
<li>Check if the files /forcefsck or /.autofsck exists in your root directory. Delete them. </li>
<li>Set the fs_passno in your /etc/fsck entry to zero (0).</li>
<li>If you are using a system with systemd you can simply add 'fsck=skip' to your boot options.</li>
</ol>
<p>To check if a system is running a fsck on the next reboot you can check if the mount count or the 
mount interval is exceeding the configured values.</p>
<div class="highlight"><pre><span class="gp">#</span> dumpe2fs -h /dev/mapper/my_vol_to_check 
<span class="go">...</span>
<span class="go">Mount count:              8</span>
<span class="go">Maximum mount count:      28</span>
<span class="go">Check interval:           15552000 (6 months)</span>
<span class="go">Next check after:         Wed Jan  7 12:18:30 2015</span>
<span class="go">...</span>
</pre></div>


<p>If you want to disable these checks you use tune2fs: </p>
<div class="highlight"><pre><span class="go">tune2fs -c0 -i0 /dev/mapper/my_vol_to_check</span>
</pre></div>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>